<section id="product-adding-section">
    <div class="heading">
        <h1>Add Product</h1>
    </div>

    <div class=" product-form">
        <form action="" class="row-1 add__product d-flex" [formGroup]="productsForm">

            <div class="col">
                <div class="form__group">
                    <label for="" class="input__label">Product Images :</label>

                    <div class="product-images">
                        <input type="file" id="productImages" accept="image/jpg, image/jpeg, image/png" maxlength="6"
                            (change)="onFileChange($event)" multiple />
                        <label for="productImages">Drag & Drop your Files</label>
                    </div>

                    
                    <div *ngIf="productImagesD.length !== 0" class="images__container d-flex flex-column gap-5">
                        <span *ngFor="let image of productImagesD; let i=index"
                        class="images d-flex justify-content-md-between align-items-center">
                        <span>{{image.name}}</span>
                        <span class="material-symbols-outlined" (click)="deleteImage(image.name)">close</span>
                    </span>
                </div>
                
                <div class="error d-flex gap-15">
                    <small *ngIf="productsForm.get('productImages')?.hasError('required') && productsForm.get('productImages')?.touched">Required</small>
                    <small *ngIf="productsForm.get('productImages')?.hasError('invalidExtension') ">Invalid
                        Extension</small>
                    <small *ngIf="productsForm.get('productImages')?.hasError('maxlength')">Maximum 6 Images
                        Allowed</small>
                    <small *ngIf="productsForm.get('productImages')?.hasError('exceedSize')">Maximum 5MB per Images
                        Allowed</small>
                </div>
                
                    <div *ngIf="errorFile.length !== 0" class="images__container d-flex flex-column gap-5">
                        <span *ngFor="let file of errorFile[0]"
                            class="error_images images d-flex justify-content-md-between align-items-center">
                            <span>{{file.name}}</span>
                            <span class="material-symbols-outlined" (click)="deleteImage(file.name)">close</span>
                        </span>
                    </div>

                    <small>
                        Maximum 0f 6 images are need to be uploaded,make sure the image size match the proper background
                        size and all images should be uniformly maintained with width and height to the image
                        container,image size should not exceed 5MB,once uploaded to change the image you need to wait
                        minimum of 24hrs.
                    </small>
                </div>

                <div class="form__group">
                    <label for="" class="input__label">Product Name<span class="important">*</span></label>
                    <input type="text" placeholder="Name" #productName formControlName="productname">
                    <div class="error d-flex flex-wrap">
                        <small
                            *ngIf="productsForm.get('productname')?.hasError('required') && productsForm.get('productname')?.touched">*
                            Field Required</small>
                        <small *ngIf="productsForm.get('productname')?.hasError('invalidName')">*Invalid Name</small>
                    </div>
                </div>
                <div class="form__group">
                    <label for="" class="input__label">Product Code<span class="important">*</span></label>
                    <input type="text" name="" id="" placeholder="Product Code" formControlName="productCode">

                    <div class="error d-flex flex-wrap">
                        <small
                            *ngIf="productsForm.get('productCode')?.hasError('required') && productsForm.get('productCode')?.touched">*Required</small>
                    </div>
                </div>

                <div class="select-options d-flex flex-wrap gap-20">
                    <div class="form__group">
                        <div class="d-flex justify-content-md-between">
                            <label for="" class="input__label">Category<span class="important">*</span></label>
                        </div>
                        <div class="relative">
                            <span class="display" (click)="toggleClass($event)">
                                <input type="text" class="select" id="category" formControlName="category"
                                    placeholder="Select Category" autocomplete="off" (blur)="blurClass($event)">
                            </span>
                            <ul class="options__container ">
                                <li class="option" *ngFor="let category of categories;"
                                    (click)="updateSelected(category,'category')">{{category}}</li>
                            </ul>
                        </div>
                        <div class="error">
                            <small
                                *ngIf="productsForm.get('category')?.hasError('required') && productsForm.get('category')?.touched">*Field
                                Required</small>
                        </div>
                    </div>

                    <div class="form__group">
                        <div class="d-flex justify-content-md-between">
                            <label for="" class="input__label">Brand<span class="important">*</span></label>
                        </div>
                        <div class="relative">
                            <span class="display" (click)="toggleClass($event)">
                                <input type="text" class="select" id="brand" formControlName="brand"
                                    placeholder="Select Brand" autocomplete="off" (blur)="blurClass($event)">
                            </span>
                            <ul class="options__container">
                                <li class="option" *ngFor="let option of brands"
                                    (click)="updateSelected(option,'brand')">{{option}}</li>
                            </ul>
                        </div>

                        <div class="error">
                            <small
                                *ngIf="productsForm.get('brand')?.hasError('required') && productsForm.get('brand')?.touched">*Field
                                Required</small>
                        </div>
                    </div>

                    <div class="form__group">
                        <label for="" class="input__label">Gender<span class="important">*</span></label>
                        <div class="relative">
                            <span class="display" (click)="toggleClass($event)">
                                <input type="text" class="select" id="gender" formControlName="gender"
                                    placeholder="Select Gender" autocomplete="off" (blur)="blurClass($event)">
                            </span>
                            <ul class="options__container">
                                <li class="option" *ngFor="let option of gender"
                                    (click)="updateSelected(option,'gender')">
                                    {{option}}</li>

                            </ul>
                        </div>
                        <div class="error">
                            <small
                                *ngIf="productsForm.get('gender')?.hasError('required') && productsForm.get('gender')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                    <div class="form__group">
                        <div class="d-flex justify-content-md-between">
                            <label for="" class="input__label">Size<span class="important">*</span></label>
                        </div>
                        <div class="relative">
                            <span class="display" (click)="toggleClass($event)">
                                <input type="text" class="select" id="sizes" formControlName="sizes"
                                    placeholder="Select Sizes" autocomplete="off">
                            </span>
                            <ul class="options__container multiSelect">
                                <li *ngFor="let option of sizes" class="option">
                                    <input type="checkbox" id='{{option}}' value='{{option}}'
                                        (click)="updateMultiSelected($event,'sizes')">
                                    <label for='{{option}}'>{{option}}</label>
                                </li>
                            </ul>
                        </div>
                        <div class="error">
                            <small
                                *ngIf="productsForm.get('sizes')?.hasError('required') && productsForm.get('sizes')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                    <div class="form__group">
                        <label for="" class="input__label">Colors<span class="important">*</span></label>
                        <div class="relative">
                            <span class="display" (click)="toggleClass($event)">
                                <input type="text" class="select" id="colors" formControlName="colors"
                                    placeholder="Select Colors" autocomplete="off" (blur)="blurClass($event)">
                            </span>
                            <ul class="options__container">
                                <li class="option" *ngFor="let color of colors"
                                    (click)="updateSelected(color,'colors')">
                                    {{color}}</li>

                            </ul>
                        </div>
                        <div class="error">
                            <small
                                *ngIf="productsForm.get('colors')?.hasError('required') && productsForm.get('colors')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                    <div class="form__group">
                        <div class="d-flex justify-content-md-between">
                            <label for="" class="input__label">Product Tags<span class="important">*</span></label>
                        </div>
                        <div class="relative">
                            <span class="display" (click)="toggleClass($event)">
                                <input type="text" class="select" id="tags" formControlName="tags"
                                    placeholder="Select Tags" autocomplete="off">
                            </span>
                            <ul class="options__container multiSelect">
                                <li *ngFor="let tag of tags" class="option">
                                    <input type="checkbox" id='{{tag}}' value='{{tag}}'
                                        (click)="updateMultiSelected($event,'tags')">
                                    <label for='{{tag}}'>{{tag}}</label>
                                </li>
                            </ul>
                        </div>
                        <div class="error">
                            <small
                                *ngIf="productsForm.get('tags')?.hasError('required') && productsForm.get('tags')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="quantity-block d-flex">
                    <div class="form__group">
                        <label for="price" class="input__label">Actual Price<span class="important">*</span></label>
                        <input type="number" placeholder="Actual Price" id="price" formControlName="actualprice"
                            required />

                        <div class="error">
                            <small
                                *ngIf="productsForm.get('actualprice')?.hasError('required') && productsForm.get('actualprice')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                    <div class="form__group">
                        <label for="discount" class="input__label">Discount (%age)</label>
                        <input type="number" placeholder="Sale Price" id="discount" formControlName="discount" />
                    </div>
                    <div class="form__group">
                        <label for="discount" class="input__label">Discount Price</label>
                        <input type="number" placeholder="Discount Price" id="discount" formControlName="salesPrice"
                            readonly />
                    </div>
                    <div class="form__group">
                        <label for="materialType" class="input__label">Material Type<span
                                class="important">*</span></label>
                        <input type="text" placeholder="Material Type" id="materialType" formControlName="materialType"
                            required />
                        <div class="error">
                            <small
                                *ngIf="productsForm.get('materialType')?.hasError('required') && productsForm.get('materialType')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                    <div class="form__group">
                        <label for="itemWeight" class="input__label">Item Weight<span class="important">*</span></label>
                        <input type="number" placeholder="Weight in gms" id="itemWeight" formControlName="weight"
                            required />
                        <div class="error">
                            <small
                                *ngIf="productsForm.get('weight')?.hasError('required') && productsForm.get('weight')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                    <div class="form__group">
                        <label for="" class="input__label">Quantity in Stock<span class="important">*</span></label>
                        <input type="number" placeholder="Quantity" id="quantity" formControlName="stockQuantity"
                            required />

                        <div class="error">
                            <small
                                *ngIf="productsForm.get('stockQuantity')?.hasError('required') && productsForm.get('stockQuantity')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                    <div class="form__group">
                        <div class="d-flex justify-content-md-between">
                            <label for="" class="input__label">Order Quantity<span class="important">*</span></label>
                        </div>
                        
                        <div class="relative">
                            <span class="display" (click)="toggleClass($event)">
                                <input type="text" class="select" id="orderQuantity" formControlName="orderQuantity"
                                    placeholder="Select Tags" autocomplete="off">
                            </span>
                            <ul class="options__container multiSelect">
                                <li *ngFor="let order of orderQuantity" class="option">
                                    <input type="checkbox" id='{{order}}' value='{{order}}'
                                        (click)="updateMultiSelected($event,'orderQuantity')">
                                    <label for='{{order}}'>{{order}}</label>
                                </li>
                            </ul>
                        </div>
                        <small>
                            *Order Quantity is various Unit to be Sold
                        </small>
                        <div class="error">
                            <small
                                *ngIf="productsForm.get('orderQuantity')?.hasError('required') && productsForm.get('orderQuantity')?.touched">*Field
                                Required</small>
                        </div>
                    </div>
                </div>
                <div class="form__group">
                    <label for="" class="input__label">Product Description</label>
                    <textarea name="" id="" cols="30" rows="10"></textarea>
                    <small>
                        *Description should not exceed 500 letters
                    </small>
                </div>
            </div>

        </form>
        <div class="buttons d-flex justify-content-end gap-20">
            <!-- <button class="draft d-flex align-items-center gap-5">
                <i class="fa-regular fa-note-sticky"></i>
                <a href="javascript:void(0);">Save as Draft</a>
                <span class="material-symbols-outlined">download</span>
            </button> -->
            <button class="add d-flex align-items-center gap-5" (click)="onsubmit()">
                <a href="javascript:void(0);">Submit Product</a>
                <span class="material-symbols-outlined">upload</span>
            </button>
        </div>
    </div>
</section> 