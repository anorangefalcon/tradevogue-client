<section id="overview-section" class="d-flex flex-column mh100 mw100 gap-24">
    <!-- <h1>DashBoard</h1> -->
    <div class="info-cards grid mh100 gap-24">
        <div class="column-1 d-flex flex-column gap-5 card card__pd-20">
            <div class="row-1">
                <div class="d-flex flex-column ">
                    <p class="title">Customers</p>
                    <span class="card-value" id="visitor">{{customerCount}}</span>
                </div>
                <span class="icons material-symbols-outlined">bar_chart_4_bars</span>
            </div>
            <div class="row-2 d-flex align-item-center  gap-5">
                <p *ngIf="isCustomerChange; else customer_increase" class="spike d-flex align-item-center gap-10">
                    <span class="value">10% Higher growth</span>
                    <i class="fa-solid fa-arrow-trend-up"></i>
                </p>
                <ng-template #customer_increase class="drop d-flex align-item-center gap-10">
                    <span class="drop d-flex align-item-center gap-10">
                        <span class="value">20% Lower growth</span>
                        <i class="fa-solid fa-arrow-trend-down"></i>
                    </span>
                </ng-template>
            </div>
        </div>
        <div class="column-2 d-flex flex-column gap-5 card card__pd-20">
            <div class="row-1">
                <div class="d-flex flex-column ">
                    <p class="title">Orders</p>
                    <span class="card-value" id="orders">{{orderCount}}</span>
                </div>
                <span class="icons  material-symbols-outlined">shopping_cart</span>
            </div>
            <div class="row-2 d-flex align-item-center  gap-5">
                <p *ngIf="isOrderChange; else order_decrease" class="spike d-flex align-item-center gap-10">
                    <span class="value">10% Higher Orders</span>
                    <i class="fa-solid fa-arrow-trend-up"></i>
                </p>
                <ng-template #order_decrease>
                    <span class="drop d-flex align-item-center gap-10">
                        <span class="value">20% Lower Orders</span>
                        <i class="fa-solid fa-arrow-trend-down"></i>
                    </span>
                </ng-template>
            </div>
        </div>
        <div class="column-3 d-flex flex-column gap-5 card card__pd-20">
            <div class="row-1">
                <div class="d-flex flex-column ">
                    <p class="title">Revenue</p>
                    <span class="card-value" id="revenue">{{revenue}}</span>
                </div>
                <span class="icons material-symbols-outlined">currency_rupee</span>
            </div>
            <div class="row-2 d-flex align-item-center  gap-5">
                <!-- <span class="material-symbols-outlined">info</span> -->
                <p *ngIf="isRevenueChange; else order_decrease" class="spike d-flex align-item-center gap-10">
                    <span class="value">10% Higher Sales</span>
                    <i class="fa-solid fa-arrow-trend-up"></i>
                </p>
                <ng-template #order_decrease>
                    <span class="drop d-flex align-item-center gap-10">
                        <span class="value">20% Lower Sales</span>
                        <i class="fa-solid fa-arrow-trend-down"></i>
                    </span>
                </ng-template>
            </div>
        </div>
        <div class="column-4 d-flex flex-column gap-5 card card__pd-20">
            <div class="row-1">
                <div class="d-flex flex-column ">
                    <p class="title">Inventory Alert</p>
                    <span class="card-value"  id="inventory">{{inventoryAlert}}</span>
                </div>
                <span class="icons material-symbols-outlined">production_quantity_limits</span>
            </div>
            <div class="row-2 d-flex align-item-center gap-5">
                <span class="value">Recently Updated</span>
                <span class="material-symbols-outlined">refresh</span>
            </div>
        </div>
    </div>
    <div class="stats-cards grid gap-24">
        <div class="column col-1 graph d-flex flex-column gap-15 card card__pd-20">
            <div class="row-1">
                <h3>Sales & Profits</h3>
                <span (click)="fetchSalesProfitStats()" class="material-symbols-outlined pointer refresh_icons">refresh</span>
            </div>
            <div class="row-2 ">
                <canvas id="barChart">{{barChart}}</canvas>
            </div>
        </div>
        <div class="column col-2 graph d-flex flex-column gap-15 card card__pd-20">
            <div class="row-1 ">
                <h3>Customer Reviews</h3>
                <span (click)="fetchReviewStats()" class="material-symbols-outlined pointer refresh_icons">refresh</span>
            </div>
            <div class="row-2">
                <canvas id="donutChart">{{donutChart}}</canvas>
            </div>
        </div>
        <!-- <div class="column graph">
            <div class="row-1">
                <h3 class="sub-heading-1">Site Visits Growth</h3>
                <span class="material-symbols-outlined pointer refresh_icons">refresh</span>
            </div>
            <div class="row-2">
                <canvas id="lineChart">{{lineChart}}</canvas>
            </div>
        </div> -->

        <div class="column col-3 product-info-cards d-flex flex-column gap-15 card card__pd-20">
            <div class="row-1">
                <div action="" class="d-flex align-item-center gap-10">
                    <h3>Popular Product</h3>
                    <div class="radio_button pointer">
                        <input type="radio" name="popular_product_sort" class="form__input" id="Monthly" checked />
                        <label for="Monthly" class="form__label">Monthly</label>
                    </div>
                </div>
                <span (click)="fetchPopularStats()" class="material-symbols-outlined pointer refresh_icons">refresh</span>
            </div>

            <div class="row-2 product__table">
                <table class="product-row mw100">
                    <tbody class="d-flex flex-column gap-15">
                        <tr class="product-card d-flex justify-content-md-between gap-10"
                            *ngFor="let product of productList">

                            <td class="d-flex gap-20">
                                <div class="product-image">
                                    <img src='{{product.photo}}' alt="product_image.png">
                                    <!-- <span class="material-symbols-outlined icons">laundry</span> -->
                                </div>
                                
                                <div class="product-name d-flex flex-column text-left text-captialize">
                                    <h4>{{product.name}}</h4>
                                    <p class="text-capitalize">{{product.category}}</p>
                                </div>
                            </td>
                            <td class="d-flex gap-20">
                                <div class="revenue">
                                    <h4>&#8377; {{product.revenue}}</h4>
                                    <p>Revenue</p>
                                </div>
                                <div class="profit">
                                    <h4>&#8377; {{product.profit}}</h4>
                                    <p>Profit</p>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>

        <div class="column col-4 product-info-cards d-flex flex-column gap-15 card card__pd-20">
            <div class="row-1">
                <h3>Category Sales</h3>
                <span (click)="fetchCategoryStats()" class="material-symbols-outlined pointer refresh_icons">refresh</span>
            </div>
            <div class="row-2 category-table">
                <table class="category-row d-flex flex-column gap-20">
                    <tr *ngFor="let category of category_sales; let i=index">
                        <span class="d-flex justify-content-md-between align-item-center">
                            <h4>{{category.field}}</h4>
                            <span class="Category-price">&#8377; {{category.sales}}</span>
                        </span>
                        <progress [value]="category.sales" max="1000000"></progress>    
                    </tr>
                </table>
            </div>
        </div> 
    </div>
</section>