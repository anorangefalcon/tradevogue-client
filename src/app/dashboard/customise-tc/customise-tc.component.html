<div class="container d-flex flex-column gap-15">
    <div class="card card__pd-20 d-flex justify-content-md-between align-item-center">
        <div class="d-flex gap-5 justify-content-center align-item-center">
            <button class="btn btn-xs customise-back-btn d-flex flex-center" routerLink="/dashboard/customise-home">
                <span class="material-symbols-outlined">
                    arrow_back_ios
                </span>
            </button>
            <h3>Customise Terms & Conditions</h3>
        </div>
        <div class="d-flex gap-10">
            <button class="btn btn-xs fw-500 btn-rounded btn-primary" (click)="onsubmit()">Update</button>
            <button class="btn btn-xs btn-secondary btn-rounded fw-500 d-flex flex-center gap-5"
                (click)="addFormControl()">
                <span class="material-symbols-outlined fs-20">add</span>
                Add Section
            </button>
        </div>
    </div>
    <form [formGroup]="yourFormGroup">
        <div formArrayName="TandC" class="mh100 mw100 d-flex flex-column gap-20">
            <ng-container *ngFor="let data of getFormArrayControls();let i=index">
                <div [formGroupName]="i" class=" card card__pd-20 mh100 mw100 d-flex flex-column gap-20">
                    <h3>Section {{i+1}}</h3>

                    <div class="mh100 mw100 d-flex flex-column gap-5">
                        <label class="form__label">Heading</label>
                        <input class="form__input" formControlName="heading" />
                    </div>
                    <div formArrayName="contentInfo">

                        <ng-container *ngFor="let content of getContentFormArrayControls(i);let j=index">
                            <div [formGroupName]="j" class="d-flex gap-10 flex-column mw100">
                                <div class="mw100 d-flex flex-column gap-5">
                                    <h5>Content {{j+1 }}</h5>
                                    <div class="d-flex ">
                                        <app-custom-select [type]="''" [_id]="''+i+j" [options]="contentType"
                                            [selectedOption]="((getTandCContent(i,j) ? (getTandCContent(i,j)) : 'Select Type'))"
                                            (final_option)="ContentTypeHandler($event, i ,j)"></app-custom-select>
                                    </div>
                                </div>

                                <!-- <div class="form__radio d-flex gap-20">

                                    <input type="radio" value="paragraph" [id]="'paragraph'+i" [name]="'type'+i" formControlName="content_type">
                                    <label [for]="'paragraph'+i">Paragraph</label>

                                    <input type="radio" value="list" [id]="'list'+i" [name]="'type'+i" formControlName="content_type">
                                    <label for="list">List</label>

                                </div> -->

                                <div formArrayName="content_description" class="mw100 d-flex flex-column gap-5">


                                    <h5>Content Area</h5>
                                    <ng-container
                                        *ngFor="let content of getContentDescFormArrayControls(i,j);let k=index">
                                        <div [formGroupName]="k" style="height: fit-content;">
                                            <textarea class="form__textarea mw100" formControlName="content">
                                            </textarea>
                                        </div>
                                    </ng-container>
                                    <div class="d-flex justify-content-end">
                                        <button class="btn btn-xs btn-secondary btn-rounded fw-500 d-flex flex-center"
                                            *ngIf="getTandCContent(i,j) == 'list'"
                                            (click)="addContentDescFormControl(i, j)">
                                            <span class="material-symbols-outlined fs-20">add</span>
                                            Add
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>

                    <div class="d-flex justify-content-end">
                        <button class="btn btn-xs btn-primary btn-rounded fw-500 d-flex flex-center gap-5"
                            (click)="addContentFormControl(i)" style="width: fit-content;">
                            <span class="material-symbols-outlined fs-20">add</span>
                            Add Content
                        </button>
                    </div>
                </div>
            </ng-container>
        </div>
    </form>



</div>